@startuml FatigueProcessor-Activity
title "Fatigue Processor Internal Workflow"

start

:Acquire Inputs;
note right
- Latest aggregated data
end note

:Apply Weights;
note right
Weight factors by importance:
- Sleep (40%)
- Heart rate(30%)
-  Energy burned (15%)
- Total steps (15%)
end note

:Compute Fatigue Score;
note right
Weighted average (0–100)
end note

:Categorize Score;
note right
- Low (0–30)
- Moderate (31–60)
- High (61–100)
end note

if (Fatigue High?) then (yes)
  :Trigger Notification;
  note right
  Send local alert via Notification Service
  end note
else (no)
  :No notification;
endif

:Persist Results;
note right
Store in CoreData:
- Score
end note

:Provide Output;
note right
Return results for:
- App UI (charts, scores)
- Notification system
end note

stop
@enduml
